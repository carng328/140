<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0">
<html>
<head>
	<title>140+</title>
	
    <link 
		rel="stylesheet" 
		href="css/style.css">
</head>
</div>
<div id="container4">
	<div id="container3">
		<div id="container2">
			<div id="container1">
				<div id="col1">
					<!-- Column one start -->
					
					<h5>
						Published by The New York Times
					</br>
					</h5>
					<!-- Column one end -->
				</div>
				<div id="col2">
					<!-- Column two start -->
					
					<h5>
						Published by CNN
						<br/>
					</h5>
					<!-- Column two end -->
				</div>
				<div id="col3">
					<!-- Column three start -->
					
					<h5>
						Published by Fox News
					</h5>
					<!-- Column three end -->
				</div>
				<div id="col4">
					<!-- Column four start -->
					
					<h5>
						Published by The National Review
					</h5>
					<!-- Column four end -->
				</div>
			</div>
		</div>
	</div>
</div>

	


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="js/jquery.query-yql.min.js"></script>
<script type="text/javascript">

//NYT
$(function getNYT() {
        var statement = "select * from feed where url='http://rss.nytimes.com/services/xml/rss/nyt/Politics.xml'";
        $.queryYQL(statement, "json", undefined, function (data) {
          // do something with "data".
          console.log(data.query.results.item);
          
          //THIS IS THE LINE THAT GETS YOU THE FIRST OBJECT IN THE ARRAY
          console.log(data.query.results.item[0]);
          var firstObjectNYT = data.query.results.item[0];
          
          
          $("#col1").append("<h1 id='nyt'>" + firstObjectNYT.title + "</h1>")
          $("#col1").append("<h4 id='nyt'>" + firstObjectNYT.pubDate + "</h4>");
          
        });

 
      });

//NYT REDDIT COMMENTS
$(function getNYTMood() {
        var statement = "select * from feed where url='https://www.reddit.com/search.xml?q=' + firstObjectNYT.title";
        $.queryYQL(statement, "json", undefined, function (data) {
          // do something with "data".
          console.log(data.query.results);
          
          

 
      });

 });


// CNN
$(function getCNN() {
        var statement = "select * from feed where url='http://rss.cnn.com/rss/cnn_allpolitics.rss'";
        $.queryYQL(statement, "json", undefined, function (data) {
          // do something with "data".
          console.log(data.query.results.item);
          
          //THIS IS THE LINE THAT GETS YOU THE FIRST OBJECT IN THE ARRAY
          console.log(data.query.results.item[0]);
          var firstObjectCNN = data.query.results.item[0];
          
          $("#col2").append("<h1 id='cnn'>" + firstObjectCNN.title + "</h1>")   
          $("#col2").append("<h4 id='cnn'>" + firstObjectCNN.pubDate + "</h4>");

        });

 
      });


// FOX NEWS
$(function getFoxNews() {
        var statement = "select * from feed where url='http://feeds.foxnews.com/foxnews/politics'";
        $.queryYQL(statement, "json", undefined, function (data) {
          // do something with "data".
          console.log(data.query.results.item);
          
          //THIS IS THE LINE THAT GETS YOU THE FIRST OBJECT IN THE ARRAY
          console.log(data.query.results.item[0]);
          var firstObjectFoxNews = data.query.results.item[0];
          
          $("#col3").append("<h1 id='fox'>" + firstObjectFoxNews.title + "</h1>");
          $("#col3").append("<h4 id='fox'>" + firstObjectFoxNews.pubDate + "</h4>");  
          
        });

 
      });


// NATIONAL REVIEW
$(function getNationalReview() {
        var statement = "select * from feed where url='http://www.nationalreview.com/corner/feed'";
        $.queryYQL(statement, "json", undefined, function (data) {
          // do something with "data".
          console.log(data.query.results.item);
          
          //THIS IS THE LINE THAT GETS YOU THE FIRST OBJECT IN THE ARRAY
          console.log(data.query.results.item[0]);
          var firstObjectTNR = data.query.results.item[0];

          $("#col4").append("<h1 id='tnr'>" + firstObjectTNR.title + "</h1>")
          $("#col4").append("<h4 id='tnr'>" + firstObjectTNR.pubDate + "</h4>");  
          
        });

 
      });

$(document ).ready(function() {
    	ReloadData()
    	setInterval(function(){ReloadData()}, 60000);
	});

function ReloadData(){
		  $("body").load(function getNYT() {}); 
     	console.log("Updated NYT");  

     	$("body").load(function getNYT() {}); 
     	console.log("Updated NYT ");

     	$("body").load(function getCNN() {}); 
     	console.log("Updated CNN");  

     	$("body").load(function getCNN() {}); 
     	console.log("Updated CNN ");

     	$("body").load(function getFoxNews() {}); 
     	console.log("Updated Fox");  

     	$("body").load(function getFoxNews() {}); 
     	console.log("Updated Fox ");

     	$("body").load(function getNationalReview() {}); 
     	console.log("Updated TNR");  

     	$("body").load(function getNationalReview() {}); 
     	console.log("Updated TNR"); 


}

</script>

</body>
</html>
